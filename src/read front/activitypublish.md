### 一、界面功能分析


#### 主要功能模块：

| 模块 | 功能描述 |
|------|----------|
| 基本信息 | 填写活动名称、发布人/组织、招募人数、活动时间、活动地点、活动简介 |
| 参与收获 | 选择参与活动的收获（综测加分、志愿时等）并详细说明 |
| 招募信息 | 选择面向人群（年级）、填写专业要求 |
| 活动分类 | 选择活动所属分类（学术科研、就业创业等） |
| 封面图上传 | 上传活动封面图片 |
| 表单操作 | 提交表单、保存草稿、重置表单、返回上一页 |

---

### 二、前后端接口需求

#### 1. 上传封面图接口

- **URL**: `/api/uploads/cover`
- **Method**: `POST`
- **Request Type**: `multipart/form-data`
- **Request Body**:
  - [file](file://c:\try%20front\meetup\node_modules\speakingurl\Makefile): 图片文件
- **Response**:
  ```json
  {
    "success": true,
    "data": {
      "id": "文件ID",
      "url": "图片访问URL"
    }
  }
  ```

#### 2. 删除已上传封面图接口

- **URL**: `/api/uploads/cover/{uploadId}`
- **Method**: `DELETE`
- **Response**:
  ```json
  {
    "success": true
  }
  ```

#### 3. 创建活动接口

- **URL**: `/api/activities/`
- **Method**: `POST`
- **Request Type**: `multipart/form-data`
- **Request Body**:
  - `title`: 活动名称
  - `organizer`: 发布人/组织
  - `location`: 活动地点
  - `activity_time`: 活动时间 (ISO 8601 格式)
  - `description`: 活动简介
  - `benefits`: 参与收获 (数组)
  - `benefits_details`: 参与收获详情
  - `target_audience`: 面向人群 (数组)
  - `major_requirements`: 专业要求
  - `max_participants`: 招募人数
  - `category`: 活动分类
  - `cover_image`: 封面图文件 (可选)
  - `cover_image_id`: 已上传封面图ID (可选)
- **Response**:
  ```json
  {
    "success": true,
    "data": {
      "id": "活动ID"
    }
  }
  ```

---

### 三、需求文档

#### 1. 功能概述

本功能旨在为用户提供一个完整的活动发布流程，包括填写活动信息、上传封面图、提交活动等操作。

#### 2. 功能详情

##### 2.1 基本信息填写

- 用户需要填写以下必填信息：
  - 活动名称（最多50字符）
  - 发布人/组织
  - 招募人数（正整数）
  - 活动时间（日期时间选择器）
  - 活动地点
  - 活动简介（最多500字符）
- 提供字符计数显示

##### 2.2 参与收获选择

- 用户可以选择多个收获类型：
  - 综测加分
  - 志愿时
  - 其他
- 用户需要填写收获详情（最多200字符）
- 提供字符计数显示

##### 2.3 招募信息填写

- 用户可以选择面向人群（可多选）：
  - 大一
  - 大二
  - 大三
  - 大四
  - 研究生
  - 不限年级
- 当选择"不限年级"时，其他选项应被清除
- 用户可以填写专业要求（文本输入）

##### 2.4 活动分类选择

- 用户需要选择一个活动分类：
  - 学术科研
  - 就业创业
  - 文体艺术
  - 志愿服务
  - 社会实践
  - 校园生活

##### 2.5 封面图上传

- 用户可以上传一张封面图
- 支持的格式：所有图片格式
- 文件大小限制：5MB
- 建议尺寸：800×400像素
- 提供预览功能
- 支持重新上传和移除操作

##### 2.6 表单操作

- **提交表单**：验证所有必填项后提交活动信息
- **保存草稿**：将当前填写的信息保存到本地存储
- **重置表单**：清空所有已填写的信息
- **返回上一页**：离开当前页面（有确认提示）

#### 3. 接口需求

##### 3.1 上传封面图

- **功能**：上传活动封面图
- **权限**：已登录用户
- **输入**：图片文件
- **输出**：文件ID和访问URL

##### 3.2 删除已上传封面图

- **功能**：删除已上传但未使用的封面图
- **权限**：已登录用户
- **输入**：文件ID
- **输出**：操作结果

##### 3.3 创建活动

- **功能**：创建新的活动
- **权限**：已登录用户
- **输入**：活动所有信息和封面图（文件或ID）
- **输出**：新创建活动的ID

#### 4. 注意事项

- 所有必填项都需要进行前端验证
- 封面图上传后应立即显示预览
- 草稿功能应保存到本地存储
- 提交前应再次确认所有信息的完整性
- 需要处理网络请求失败的情况并给出提示

---

### 四、优化建议

1. **增加自动保存草稿功能**：定期自动保存用户填写的内容，避免意外丢失
2. **增加活动预览功能**：在提交前提供活动详情预览
3. **增强错误处理**：提供更详细的错误信息和解决方案提示
4. **优化移动端体验**：确保在移动设备上的良好显示效果
5. **增加进度指示**：对于上传和提交操作提供进度条或加载状态